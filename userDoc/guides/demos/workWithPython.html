<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/pm4knime-webpage-2/_next/static/css/0a566f64939b1ac2.css" as="style"/><link rel="stylesheet" href="/pm4knime-webpage-2/_next/static/css/0a566f64939b1ac2.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/pm4knime-webpage-2/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/pm4knime-webpage-2/_next/static/chunks/webpack-3f4225a724ce4c46.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/chunks/main-59e68987ced9e6f4.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/chunks/pages/_app-eb0eafa6a5188641.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/chunks/929-3344fefcb578d2d8.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/chunks/pages/userDoc/guides/demos/workWithPython-cff3a21df695274d.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/khWcXRyhvqsSjPHvurokl/_buildManifest.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/khWcXRyhvqsSjPHvurokl/_ssgManifest.js" defer=""></script><script src="/pm4knime-webpage-2/_next/static/khWcXRyhvqsSjPHvurokl/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><nav class="mx-auto color-nav navbar navbar-expand-lg navbar-light fixed-top"><div class="container"><span class="navbar-brand"><a class="navbar-brand" href="https://fit.fraunhofer.de"><img src="/assets/fit_logo.svg" width="auto" height="30" class="d-inline-block align-top" alt=""/></a><a class="navbar-brand pl-4 pr-4" style="padding-left:15px" href="/"><img src="/assets/pm4knimeLogo.png" width="auto" height="30" class="d-inline-block align-top" alt=""/>PM4KNIME<!-- --></a></span><button aria-controls="responsive-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="responsive-navbar-nav"><div class="ms-auto navbar-nav"><a href="/userDoc" data-rr-ui-event-key="/userDoc" class="nav-link">Home</a></div><div class="navbar-nav"><div class="nav-item dropdown"><a id="collasible-nav-dropdown" aria-expanded="false" role="button" class="dropdown-toggle nav-link" tabindex="0" href="#">Guideline for normal user</a></div></div><div class="navbar-nav"><div class="nav-item dropdown"><a id="collasible-nav-dropdown" aria-expanded="false" role="button" class="dropdown-toggle nav-link" tabindex="0" href="#">Usage Examples</a></div></div></div></div></nav><div class="container"><div class="section"><div class="Layout-main" data-view-component="true"><div id="wiki-body" class="gollum-markdown-content"><div class="markdown-body"><div class="Layout-main" data-view-component="true"><div id="wiki-body" class="gollum-markdown-content"><div class="markdown-body"><div class="Layout-main" data-view-component="true"><div id="wiki-body" class="gollum-markdown-content"><div class="markdown-body"><div class="Layout-main" data-view-component="true"><div id="wiki-body" class="gollum-markdown-content"><div class="markdown-body"><div class="Layout-main" data-view-component="true"><div id="wiki-body" class="gollum-markdown-content"><div class="markdown-body"><p>Python extension in KNIME enables the python scripting. By importing python environment with different packages, it allows the python execution in such environments. In a personal view, the configuration is the most complex part to import the Python scripting. After this, in the Python extension nodes, python scripts are like the normal ones. In this demo, we shows two parts of the Python usages. One is the basic Python scripting, the other focuses on the integration of pm4py into KNIME.</p><p>First, to configure Python in KNIME by following this steps in the <!-- --><a href="https://docs.knime.com/2018-12/python_installation_guide/index.html" rel="nofollow">link</a>. In brief summary, those steps are in need.<!-- --></p><ol><li>Download and install Python with miniconda or Annaconda. Minicanda is chosen to benefit the integration of pm4py. The installation steps are the same as pm4py in this <!-- --><a href="http://pm4py.pads.rwth-aachen.de/installation/" rel="nofollow">link</a>.<!-- --></li><li><a href="https://docs.knime.com/2018-12/python_installation_guide/index.html#_installation" rel="nofollow">Install the Python Extension in KNIME</a></li></ol><blockquote><p>File=&gt; Install KNIME Extension =&gt; Search Python Extension =&gt; Install</p></blockquote><ol start="3"><li><a href="https://docs.knime.com/2018-12/python_installation_guide/index.html#_configure_the_knime_python_integration" rel="nofollow">Set the Python Environment</a>.<!-- --></li></ol><blockquote><p>File=&gt;Perference =&gt; Search Python =&gt; Use the created env for pm4py.</p></blockquote><h3> </h3><h3>the normal python scripting in KNIME, similarly like Java Snippet.</h3><p><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/demo-advanced-python-programming.PNG" alt="" width="400px" height="150px" class="img-fluid img-shadow"/> <!-- --><br/>A concrete workflow is shown in the next figure. <!-- --><br/><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/demo-advanced-python-programming-wf.PNG" alt="image" class="img-fluid img-shadow"/></p><p>To create this workflow, those steps are in need:</p><ol><li>Download the dataset <!-- --><code>chapter_1</code> from the github <!-- --><a href="https://github.com/pm4knime/pm4knime-document/blob/master/dataset/chapter_1.zip">link</a> and extract it to get the CSV file <!-- --><code>running-example.csv</code>.<!-- --></li><li>Import CSV into KNIME with node <!-- --><strong>CSV Reader</strong>.<!-- --></li><li>Use node <!-- --><strong>Python Script</strong> to add a category to the Data table.<!-- --></li></ol><ul><li>Configure the node <!-- --><strong>Python Script</strong> with settings<!-- --></li></ul><div class="highlight highlight-source-python position-relative overflow-auto"><pre><span class="pl-c"># Copy input to output</span><span class="pl-s1">costValues</span> <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-s1">input_table</span>[<!-- --><span class="pl-s">&#x27;Costs&#x27;</span>]<!-- --><span class="pl-en">print</span>(<!-- --><span class="pl-s1">costValues</span>.<!-- --><span class="pl-en">mean</span>())<!-- --><span class="pl-en">print</span>( <!-- --><span class="pl-en">len</span>(<!-- --><span class="pl-s1">costValues</span>))<!-- --><span class="pl-en">print</span>(<!-- --><span class="pl-s">&quot;begin&quot;</span>)<!-- --><span class="pl-s1">ctg</span> <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-en">list</span>()<!-- --><span class="pl-k">for</span> <!-- --><span class="pl-s1">idx</span> <!-- --><span class="pl-c1">in</span> <!-- --><span class="pl-en">range</span>(<!-- --><span class="pl-c1">0</span>, <!-- --><span class="pl-en">len</span>(<!-- --><span class="pl-s1">costValues</span>)) :<!-- --><span class="pl-c"># print(costValues[idx])</span><span class="pl-k">if</span> <!-- --><span class="pl-s1">costValues</span>[<!-- --><span class="pl-s1">idx</span>] <!-- --><span class="pl-c1">&gt;</span> <!-- --><span class="pl-c1">250</span> :<!-- --><span class="pl-s1">ctg</span>.<!-- --><span class="pl-en">append</span>(<!-- --><span class="pl-s">&quot;high&quot;</span>)<!-- --><span class="pl-k">elif</span> <!-- --><span class="pl-s1">costValues</span>[<!-- --><span class="pl-s1">idx</span>] <!-- --><span class="pl-c1">&gt;</span> <!-- --><span class="pl-c1">100</span> :<!-- --><span class="pl-s1">ctg</span>.<!-- --><span class="pl-en">append</span>(<!-- --><span class="pl-s">&quot;medium&quot;</span>)<!-- --><span class="pl-k">else</span>:<!-- --><span class="pl-s1">ctg</span>.<!-- --><span class="pl-en">append</span>(<!-- --><span class="pl-s">&quot;low&quot;</span>)<!-- --><span class="pl-en">print</span>(<!-- --><span class="pl-en">len</span>(<!-- --><span class="pl-s1">ctg</span>))<!-- --><span class="pl-s1">input_table</span>[<!-- --><span class="pl-s">&#x27;category&#x27;</span>] <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-s1">ctg</span><span class="pl-s1">output_table</span> <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-s1">input_table</span>.<!-- --><span class="pl-en">copy</span>()<!-- --></pre></div><p><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/PythonScript-configuration-01.PNG" alt="image" class="img-fluid img-shadow"/></p><p>After execution, it outputs the result <!-- --><br/><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/PythonScript-result-01.PNG" alt="image" class="img-fluid img-shadow"/></p><h3> </h3><h3>Python scripting with pm4py</h3><p>The task is to use the pm4py for process discovery. <!-- --><br/> <!-- --><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/demo-advanced-python-programming-02.PNG" alt="" width="400px" height="150px" class="img-fluid img-shadow"/><br/> To simplify the workflow, the input and output are enclosed in Python Script. In this way, the concrete workflow looks like this. <!-- --><br/> <!-- --><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/demo-advanced-python-programming-02-wf.PNG" alt="image" class="img-fluid img-shadow"/></p><ol><li>Drag node <!-- --><strong>Python Source</strong> into KNIME<!-- --></li><li>Configure it like the following</li></ol><div class="highlight highlight-source-python position-relative overflow-auto"><pre><span class="pl-k">from</span> <!-- --><span class="pl-s1">pandas</span> <!-- --><span class="pl-k">import</span> <!-- --><span class="pl-v">DataFrame</span><span class="pl-k">from</span> <!-- --><span class="pl-s1">pm4py</span>.<!-- --><span class="pl-s1">algo</span>.<!-- --><span class="pl-s1">discovery</span>.<!-- --><span class="pl-s1">alpha</span> <!-- --><span class="pl-k">import</span> <!-- --><span class="pl-s1">factory</span> <!-- --><span class="pl-k">as</span> <!-- --><span class="pl-s1">alpha_miner</span><span class="pl-k">from</span> <!-- --><span class="pl-s1">pm4py</span>.<!-- --><span class="pl-s1">objects</span>.<!-- --><span class="pl-s1">log</span>.<!-- --><span class="pl-s1">importer</span>.<!-- --><span class="pl-s1">xes</span> <!-- --><span class="pl-k">import</span> <!-- --><span class="pl-s1">factory</span> <!-- --><span class="pl-k">as</span> <!-- --><span class="pl-s1">xes_importer</span><span class="pl-k">from</span> <!-- --><span class="pl-s1">pm4py</span>.<!-- --><span class="pl-s1">visualization</span>.<!-- --><span class="pl-s1">petrinet</span> <!-- --><span class="pl-k">import</span> <!-- --><span class="pl-s1">factory</span> <!-- --><span class="pl-k">as</span> <!-- --><span class="pl-s1">vis_factory</span><span class="pl-c"># Create empty table</span><span class="pl-s1">output_table</span> <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-v">DataFrame</span>()<!-- --><span class="pl-s1">log</span> <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-s1">xes_importer</span>.<!-- --><span class="pl-en">import_log</span>(<!-- --><span class="pl-s">&#x27;E:<!-- --><span class="pl-cce">\\</span>Datasets<!-- --><span class="pl-cce">\\</span>PM4KNIME<!-- --><span class="pl-cce">\\</span>Dataset<!-- --><span class="pl-cce">\\</span>Chapter_1<!-- --><span class="pl-cce">\\</span>running-example.xes&#x27;<!-- --></span>)<!-- --><span class="pl-s1">net</span>, <!-- --><span class="pl-s1">initial_marking</span>, <!-- --><span class="pl-s1">final_marking</span> <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-s1">alpha_miner</span>.<!-- --><span class="pl-en">apply</span>(<!-- --><span class="pl-s1">log</span>)<!-- --><span class="pl-s1">gviz</span> <!-- --><span class="pl-c1">=</span> <!-- --><span class="pl-s1">vis_factory</span>.<!-- --><span class="pl-en">apply</span>(<!-- --><span class="pl-s1">net</span>, <!-- --><span class="pl-s1">initial_marking</span>, <!-- --><span class="pl-s1">final_marking</span>)<!-- --><span class="pl-s1">vis_factory</span>.<!-- --><span class="pl-en">view</span>(<!-- --><span class="pl-s1">gviz</span>)<!-- --></pre></div><p><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/PythonSouce-configuration-01.PNG" alt="image" class="img-fluid img-shadow"/></p><ol start="3"><li>Execute the workflow, output the view of generated process model. <!-- --><img src="https://github.com/pm4knime/pm4knime-document/raw/master/images/PythonSouce-result-01.PNG" alt="image" class="img-fluid img-shadow"/></li></ol><p>Here only the simply ussage case is shown to integrate pm4py into KNIME. Anyway, it is an interesting task and needs more exploration later.</p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><footer class="footer"><div class="container" style="display:flex;justify-content:space-between"><span class="text-muted float-left">PM4KNIME is a product of the <!-- --><a href="https://fit.fraunhofer.de" target="_blank">Fraunhofer Institute for Applied Information Technology (FIT)</a></span><div><a class="float-right" href="#" data-toggle="modal" data-target="#DataProtectionModal">Data Protection</a><span class="float-right ml-1 mr-1 text-muted">|</span><a class="float-right" href="#" data-toggle="modal" data-target="#ImprintModal">Imprint</a></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/userDoc/guides/demos/workWithPython","query":{},"buildId":"khWcXRyhvqsSjPHvurokl","assetPrefix":"/pm4knime-webpage-2","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>