<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2e7457b520fa2906.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2e7457b520fa2906.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-6aeec9245d7226c3.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-658bf4259e217756.js" defer=""></script><script src="/_next/static/chunks/pages/_app-834865df54c898f2.js" defer=""></script><script src="/_next/static/chunks/917-a93726e990a6b369.js" defer=""></script><script src="/_next/static/chunks/675-9ab70f5df4043879.js" defer=""></script><script src="/_next/static/chunks/951-2233ab3fc9afa958.js" defer=""></script><script src="/_next/static/chunks/pages/userDoc/guides/demos/workWithPython-b7aee4b1284ae57a.js" defer=""></script><script src="/_next/static/AFSZVlRZQjsLC74At9NFu/_buildManifest.js" defer=""></script><script src="/_next/static/AFSZVlRZQjsLC74At9NFu/_ssgManifest.js" defer=""></script><script src="/_next/static/AFSZVlRZQjsLC74At9NFu/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><nav style="expand:lg;variant:light;transition:top 0.6s;position:fixed;width:100%" class="container-fluid color-nav navbar navbar-expand navbar-light"><span class="navbar-brand"><a class="navbar-brand" href="https://fit.fraunhofer.de"><img src="/assets/fit_logo.svg" width="auto" height="30" class="d-inline-block align-top" alt=""/></a><a class="navbar-brand pl-4 pr-4" style="padding-left:15px" href="/"><img src="/assets/pm4knimeLogo.png" width="auto" height="30" class="d-inline-block align-top" alt="" style="align-self:left"/>PM4KNIME<!-- --></a></span><button aria-controls="responsive-navbar-nav" type="button" aria-label="Toggle navigation" class="navbar-toggler collapsed"><span class="navbar-toggler-icon"></span></button><div class="navbar-collapse collapse" id="responsive-navbar-nav"><div class="navbar-nav"><div class="nav-item dropdown"><a id="collasible-nav-dropdown" aria-expanded="false" role="button" class="dropdown-toggle nav-link" tabindex="0" href="#">Getting Started</a></div></div><div class="navbar-nav"><div class="nav-item dropdown"><a id="collasible-nav-dropdown" aria-expanded="false" role="button" class="dropdown-toggle nav-link" tabindex="0" href="#">Examples</a></div></div></div></nav><div class="container"><div class="section"><div class="row-userDoc"><h1>Working with Python</h1><p>Python extension in KNIME enables the python scripting. By importing python environment with different packages, it allows the python execution in such environments. In a personal view, the configuration is the most complex part to import the Python scripting. After this, in the Python extension nodes, python scripts are like the normal ones. In this demo, we shows two parts of the Python usages. One is the basic Python scripting, the other focuses on the integration of pm4py into KNIME.</p><p>First, to configure Python in KNIME by following this steps in the<!-- --> <!-- --><a href="https://docs.knime.com/2018-12/python_installation_guide/index.html" rel="nofollow">link</a>. In brief summary, those steps are in need.<!-- --></p><ol><li>Download and install Python with miniconda or Annaconda. Minicanda is chosen to benefit the integration of pm4py. The installation steps are the same as pm4py in this<!-- --> <!-- --><a href="http://pm4py.pads.rwth-aachen.de/installation/" rel="nofollow">link</a>.<!-- --></li><li><a href="https://docs.knime.com/2018-12/python_installation_guide/index.html#_installation" rel="nofollow">Install the Python Extension in KNIME</a></li></ol><blockquote><p>File=&gt; Install KNIME Extension =&gt; Search Python Extension =&gt; Install</p></blockquote><ol start="3"><li><a href="https://docs.knime.com/2018-12/python_installation_guide/index.html#_configure_the_knime_python_integration" rel="nofollow">Set the Python Environment</a>.<!-- --></li></ol><blockquote><p>File=&gt;Perference =&gt; Search Python =&gt; Use the created env for pm4py.</p></blockquote><h3>the normal python scripting in KNIME, similarly like Java Snippet.</h3><p><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27450%27%20height=%27200%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/demo-advanced-python-programming.png?imwidth=640 1x, /assets/images/workingWithPython/demo-advanced-python-programming.png?imwidth=1080 2x" src="/assets/images/workingWithPython/demo-advanced-python-programming.png?imwidth=1080" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span><div class="new-wrapper"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27450%27%20height=%27200%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/demo-advanced-python-programming-wf.png?imwidth=640 1x, /assets/images/workingWithPython/demo-advanced-python-programming-wf.png?imwidth=1080 2x" src="/assets/images/workingWithPython/demo-advanced-python-programming-wf.png?imwidth=1080" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span><p>A concrete workflow is shown in the next figure. </p></div></p><p>To create this workflow, those steps are in need:</p><ol><li>Download the dataset <!-- --><code>chapter_1</code> from the github<!-- --> <!-- --><a href="https://github.com/pm4knime/pm4knime-document/blob/master/dataset/chapter_1.zip">link</a> <!-- -->and extract it to get the CSV file<!-- --> <!-- --><code>running-example.csv</code>.<!-- --></li><li>Import CSV into KNIME with node <!-- --><strong>CSV Reader</strong>.<!-- --></li><li>Use node <!-- --><strong>Python Script</strong> to add a category to the Data table.<!-- --></li></ol>Configure the node <!-- --><strong>Python Script</strong> with settings<!-- --><pre><code># Copy input to output
costValues = input_table[&#x27;Costs&#x27;]
print(costValues.mean())

print( len(costValues))
print(&quot;begin&quot;)
ctg = list()

for idx in range(0, len(costValues)) :
	# print(costValues[idx])
	if costValues[idx] &gt; 250 :
		ctg.append(&quot;high&quot;)
	elif costValues[idx] &gt; 100 :
		ctg.append(&quot;medium&quot;)
	else:  
		ctg.append(&quot;low&quot;)

print(len(ctg))
input_table[&#x27;category&#x27;] = ctg

output_table = input_table.copy()</code></pre><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27450%27%20height=%27200%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/PythonScript-configuration-01.png?imwidth=640 1x, /assets/images/workingWithPython/PythonScript-configuration-01.png?imwidth=1080 2x" src="/assets/images/workingWithPython/PythonScript-configuration-01.png?imwidth=1080" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span><p>After execution, it outputs the result <!-- --><br/><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27450%27%20height=%27200%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/PythonScript-result-01.png?imwidth=640 1x, /assets/images/workingWithPython/PythonScript-result-01.png?imwidth=1080 2x" src="/assets/images/workingWithPython/PythonScript-result-01.png?imwidth=1080" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span></p><h3> </h3><h3>Python scripting with pm4py</h3><p>The task is to use the pm4py for process discovery. <!-- --><br/> <!-- --><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27400%27%20height=%27150%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/demo-advanced-python-programming-02.png?imwidth=640 1x, /assets/images/workingWithPython/demo-advanced-python-programming-02.png?imwidth=828 2x" src="/assets/images/workingWithPython/demo-advanced-python-programming-02.png?imwidth=828" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span><br/> To simplify the workflow, the input and output are enclosed in Python Script. In this way, the concrete workflow looks like this. <!-- --><br/> <!-- --><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27300%27%20height=%27160%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/demo-advanced-python-programming-02-wf.png?imwidth=384 1x, /assets/images/workingWithPython/demo-advanced-python-programming-02-wf.png?imwidth=640 2x" src="/assets/images/workingWithPython/demo-advanced-python-programming-02-wf.png?imwidth=640" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span></p><ol><li>Drag node <!-- --><strong>Python Source</strong> into KNIME<!-- --></li><li>Configure it like the following</li></ol><pre><code class="python">from pandas import DataFrame
from pm4py.algo.discovery.alpha import factory as alpha_miner
from pm4py.objects.log.importer.xes import factory as xes_importer
from pm4py.visualization.petrinet import factory as vis_factory
# Create empty table
output_table = DataFrame()

log = xes_importer.import_log(&#x27;E:\Datasets\PM4KNIME\Dataset\Chapter_1\running-example.xes&#x27;)
net, initial_marking, final_marking = alpha_miner.apply(log)
gviz = vis_factory.apply(net, initial_marking, final_marking)
vis_factory.view(gviz)</code></pre><p><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27400%27%20height=%27150%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/PythonSouce-configuration-01.png?imwidth=640 1x, /assets/images/workingWithPython/PythonSouce-configuration-01.png?imwidth=828 2x" src="/assets/images/workingWithPython/PythonSouce-configuration-01.png?imwidth=828" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span></p><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27400%27%20height=%27150%27/%3e"/></span><img alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="img-fluid img-shadow" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="" srcSet="/assets/images/workingWithPython/PythonSouce-result-01.png?imwidth=640 1x, /assets/images/workingWithPython/PythonSouce-result-01.png?imwidth=828 2x" src="/assets/images/workingWithPython/PythonSouce-result-01.png?imwidth=828" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="img-fluid img-shadow" loading="lazy"/></noscript></span><ol start="3"><li>Execute the workflow, output the view of generated process model.<!-- --> <!-- --></li></ol><p>Here only the simply ussage case is shown to integrate pm4py into KNIME. Anyway, it is an interesting task and needs more exploration later.</p></div></div></div><footer class="footer"><div class="container" style="display:flex;justify-content:space-between"><span class="text-muted float-left">PM4KNIME is a product of the<!-- --> <!-- --><a href="https://fit.fraunhofer.de" target="_blank">Fraunhofer Institute for Applied Information Technology (FIT)</a></span><div><a class="float-right" href="#" data-toggle="modal" data-target="#DataProtectionModal">Data Protection</a><span class="float-right ml-1 mr-1 text-muted">|</span><a class="float-right" href="#" data-toggle="modal" data-target="#ImprintModal">Imprint</a></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/userDoc/guides/demos/workWithPython","query":{},"buildId":"AFSZVlRZQjsLC74At9NFu","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>